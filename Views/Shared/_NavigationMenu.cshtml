<div id="navigationbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            @Html.ActionLink("Sang Nguyen", "Index", "Home", null, new { @class = "navbar-brand" })
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li>@Html.ActionLink("Resume", "Resume", "Home")</li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                        Projects
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li>@Html.ActionLink("View All", "Projects", "Projects")</li>
                        <li class="divider"></li>
                        <li>@Html.ActionLink("Epub Reader", "EpubReader", "Projects")</li>
                        <li>@Html.ActionLink("Tournament Tracker", "Tournament", "Projects")</li>
                        <li>@Html.ActionLink("Game", "Game", "Projects")</li>
                        <li>@Html.ActionLink("Chat", "Chat", "Projects")</li>
                        <li class="divider hidden-md hidden-lg"></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li data-bind='visible: showUserNameLink(), html: usernameLink'></li>
                <li>
                    <a href="http://github.com/slcnguye" class="fa fa-github fa-3x hidden-xs" target="_blank"></a>
                </li>
                <li>
                    <a href="http://ca.linkedin.com/in/slcnguye" class="fa fa-linkedin fa-3x hidden-xs" target="_blank"></a>
                </li>
                <li class="hidden-lg hidden-md hidden-print hidden-sm margin-left-none">
                    <a href="http://github.com/slcnguye" class="col-xxs-2 col-xs-1 fa fa-github fa-2x" target="_blank"></a>
                    <a href="http://ca.linkedin.com/in/slcnguye" class="col-xs-1 fa fa-linkedin fa-2x" target="_blank"></a>
                </li>
            </ul>
        </div>
    </div>
</div>

<script>
    $(function () {
        var username = '@Html.Action("GetUserName", "Home").ToString()';
        var usernameLink = username.length > 0
            ? '@Html.ActionLink("{0}", "Index", "Home")'.replace("{0}", username)
            : '';

        var viewModel = {
            showUserNameLink: ko.observable(username.length > 0),
            usernameLink: usernameLink
        };

        ko.applyBindings(viewModel, $('#navigationbar')[0]);
    });
</script>